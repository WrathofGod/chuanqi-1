/**
 * Created by Administrator on 2015/9/23.
 */

var heroPropHelper = require("../src/biz/heroPropHelper");

var calHeroProp = function(){
    //lvl ,equipBag, id,rebirthLvl,medalData,isKing
    var testUserData = {
        lvl:121,
        equipBag:{"454":[710613,[[35,1008],[33,296],[36,33],[37,75],[40,111]],109553,1],"455":[720613,[[35,824],[33,296],[36,33],[37,75],[40,111]],91612,1],"456":[730613,[[35,824],[33,296],[36,33],[37,75],[40,111]],91612,1],"2574":[415013,[[37,5408],[35,12],[38,13],[39,23]],70518,1],"3078":[416013,[[36,37],[38,893],[40,106],[37,53]],55379,1],"3359":[710713,[[34,3170],[33,580],[35,52],[36,65],[37,146]],75464,1],"3360":[720713,[[34,4227],[33,580],[35,52],[36,65],[37,146]],96748,1],"3361":[730713,[[34,3346],[33,580],[35,52],[36,65],[37,146]],79012,1],"4775":[423013,[[35,48],[36,869],[33,102],[34,48]],85083,1],"4863":[435013,[[35,26],[37,4156],[39,48],[38,25]],58357,1],"4865":[800002,[[36,2606],[33,936],[34,175],[35,84],[38,52]],111723,1],"4900":[415013,[[39,35],[35,34],[38,16],[37,5408]],70907,1],"4911":[426013,[[38,1042],[36,36],[37,57],[40,65]],57194,1],"4918":[434013,[[33,14678],[38,16],[34,88],[35,21]],62002,1],"4928":[435013,[[37,4693],[35,25],[38,13],[39,31]],59648,1],"4929":[424013,[[35,34],[38,32],[34,125],[33,13111]],58726,1],"4933":[425013,[[37,4693],[35,16],[38,9],[39,11]],59317,1],"4934":[414013,[[33,18011],[38,21],[34,162],[35,31]],76843,1],"4937":[436013,[[38,982],[40,120],[36,27],[37,79]],56546,1],"4956":[426013,[[37,116],[40,148],[38,982],[36,47]],56961,1],"4971":[436013,[[37,104],[38,1012],[40,74],[36,48]],57104,1],"4980":[800012,[[36,3331],[33,936],[34,175],[35,84],[38,52]],139619,1],"4996":[416013,[[37,104],[40,162],[36,23],[38,952]],56313,1],"5035":[800009,[[37,6704],[34,175],[35,84],[38,52],[39,78]],80963,1],"5036":[113012,[[36,387]],27951,0],"5037":[114012,[[33,656]],22547,0],"5038":[114012,[[33,3064]],24955,0],"5039":[136012,[[38,209]],18707,0],"5040":[232012,[[33,120],[35,418]],37157,0]},
        id:1,
        rebirthLvl:0,
        medalData:null,
        isKing:0
    }
    var testHeroData = {};
    testHeroData.userId = 1;
    testHeroData.tempId = 1;
    testHeroData.realmArr = [1059,null,1061,1062,1063,1064];
    testHeroData.intensifyArr = [70,50,50,50,null,null,null,null,50,50,50,50];
    testHeroData.starArr = [8,3,3,5,null,null,null,null,5,3,3,3];
    testHeroData.gemArr = [16,1015,4015,6015,null,null,null,null,5015,7015,3015,2015];
    testHeroData.wingArr = [187,18,0,90,41,41];
    testHeroData.skillLvlArr = [121,121,121,121,121];
    testHeroData.equipData = {"0":3359,"1":454,"2":3078,"3":4900,"4":40008,"5":40109,"6":40208,"7":40310,"8":2574,"9":4996,"10":4865,"11":4934};
    console.log(heroPropHelper.calHeroProp(testUserData,testHeroData));
    //[0,118923,950,33245,1000,3078,0,3078,0,11875,0,2639,0,3958,0,13195,0,0,0,0,0,0,0,3000,1200,1700,3300,0,215,1,2600,4000,260,653062.3,189092.97000000003,93495.71000000002,90779.59000000001,158421.34000000003,35876.83000000001,22350.9,55542.08000000001,0,150,500,0,300,3230]
};

var calCombat = function(){
    var testLvl = 50;
    var testEquipBag = {"1":[131001,[[34,50]],450,0],"2":[131001,[[34,45]],420,0],"3":[131001,[[34,53]],468,0],"4":[131001,[[34,52]],462,0],"5":[40101,[[34,52]],462,0]};

    var testHeroData = {};
    testHeroData.userId = 1;
    testHeroData.tempId = 1;
    testHeroData.intensifyArr = [2];
    testHeroData.starArr = [];
    testHeroData.gemArr = [1010];
    testHeroData.wingArr = [10,2,6,60];
    testHeroData.equipData = {"0":1,"4":5};
    testHeroData.skillLvlArr = [50,2,2,2,50];
    testHeroData.realmArr = [1,2]
    testHeroData.propArr = heroPropHelper.calHeroProp(testLvl,testEquipBag,testHeroData);
    console.log(heroPropHelper.calCombat(testLvl,testEquipBag,testHeroData));
};

/**************************************/

calHeroProp();
//calCombat();